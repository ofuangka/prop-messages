<nav id="top">
	<a class="nav-item">Edit</a>
	<span class="title nav-item">Messages</span>
	<a class="nav-item" (click)="showCreateConversation = true">New</a>
</nav>
<div id="content">
	<ul id="conversations">
		<li *ngFor="let conversation of conversations" (click)="showMessages(conversation)">
			<div class="row">
				<img *ngIf="conversation.iconId" class="icon" [src]="getIconHref(conversation.iconId)" />
				<anonymous *ngIf="!conversation.iconId" class="icon" [size]="50"></anonymous>
				<div class="text">
					<div class="heading">
						<div class="to heading-item">{{ conversation.to | ellipsis: 25 }}</div>
						<div class="last-updated-ts grayish heading-item">{{ conversation.lastUpdatedTs | friendlyDate }}</div>
						<arrow></arrow>
					</div>
					<div class="summary grayish">{{ getSummary(conversation) | ellipsis: 70 }}</div>
				</div>
			</div>
		</li>
	</ul>
</div>
<div class="modal" *ngIf="showCreateConversation">
	<div class="modal-header">Create Conversation</div>
	<div class="modal-content">
		<form class="form">
			<p class="label-input"><label>To:</label><input #to /></p>
			<p class="text-right"><label><input #imessage class="on-left" type="checkbox" />Use iMessage</label></p>
		</form>
	</div>
	<div class="modal-footer text-right">
		<button (click)="showCreateConversation = false">Cancel</button>
		<button (click)="saveConversation(to, imessage)">Save</button>
	</div>
</div>